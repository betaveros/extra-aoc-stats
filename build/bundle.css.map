{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Medal.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport debounce from 'lodash.debounce';\n\n\timport Medal from './Medal.svelte';\n\n\timport data2015 from './2015.json';\n\timport data2016 from './2016.json';\n\timport data2017 from './2017.json';\n\timport data2018 from './2018.json';\n\timport data2019 from './2019.json';\n\timport data2020 from './2020.json';\n\timport data2021 from './2021.json';\n\n\tconst yearList = [2015, 2016, 2017, 2018, 2019, 2020, 2021];\n\n\tlet yearDataDict = {\n\t\t2015: data2015,\n\t\t2016: data2016,\n\t\t2017: data2017,\n\t\t2018: data2018,\n\t\t2019: data2019,\n\t\t2020: data2020,\n\t\t2021: data2021,\n\t};\n\n\tlet selectedYear = 2021;\n\n\tlet omit2018_6 = true;\n\tlet omit2020_1 = true;\n\n\t$: scoreData = yearDataDict[selectedYear];\n\n\tconst processYear = (rawData) => {\n\t\tlet playerInfos = {};\n\t\tlet maxDay = 0;\n\t\tlet partFinishSeconds = {};\n\n\t\t// optimization (faster than forEach) ???\n\t\tconst sl = rawData.length;\n\t\tfor (let i = 0; i < sl; i++) {\n\t\t\tconst { d: day, l: leaderboard } = rawData[i];\n\n\t\t\tmaxDay = Math.max(maxDay, day);\n\n\t\t\t// optimization (faster than forEach) ???\n\t\t\tconst ll = leaderboard.length;\n\t\t\tfor (let j = 0; j < ll; j++) {\n\t\t\t\tconst entry = leaderboard[j];\n\n\t\t\t\tconst { n: name, i: img, h: href, s: supporter, p: sponsor } = entry.u;\n\t\t\t\tconst { p: part, n: position, s: seconds } = entry;\n\n\t\t\t\tlet info = playerInfos[name] || {\n\t\t\t\t\tperformances: {},\n\t\t\t\t};\n\t\t\t\tif (supporter) { info.supporter = true; }\n\t\t\t\tif (sponsor) { info.sponsor = sponsor; }\n\t\t\t\tif (img) { info.img = img; }\n\t\t\t\tif (href) { info.href = href; }\n\n\t\t\t\tinfo.performances[day] = info.performances[day] || {};\n\t\t\t\tinfo.performances[day][part] = { position, seconds };\n\n\t\t\t\tpartFinishSeconds[day] = partFinishSeconds[day] || {};\n\t\t\t\tpartFinishSeconds[day][part] = Math.max(\n\t\t\t\t\tpartFinishSeconds[day][part] || 0,\n\t\t\t\t\tseconds);\n\n\t\t\t\tplayerInfos[name] = info;\n\t\t\t}\n\t\t}\n\n\t\treturn { playerInfos, maxDay, partFinishSeconds };\n\t};\n\n\t$: processedYearData = processYear(scoreData);\n\t\n\tconst getPosition = (info, day, part) => {\n\t\tif (info.performances[day] && info.performances[day][part]) {\n\t\t\treturn info.performances[day][part].position;\n\t\t}\n\t}\n\n\tconst oneRange = (end) => {\n\t\tlet ret = [];\n\t\tfor (let i = 1; i <= end; i++) ret.push(i);\n\t\treturn ret;\n\t};\n\n\tlet selectedPart = 0;\n\n\tconst makeUnsortedScoreList = (yearData, selPart, omits) => Object.entries(yearData.playerInfos).map(([name, info]) => {\n\t\tlet score = 0, totalSeconds = 0, count = 0, dnfPenalty = 0;\n\t\tlet medalCounts = { 1: 0, 2: 0, 3: 0 };\n\n\t\tfor (let day = 1; day <= yearData.maxDay; day++) {\n\t\t\tif (omits[`${selectedYear}-${day}`]) continue;\n\n\t\t\tfor (let part = 1; part <= 2; part++) {\n\t\t\t\tif (selPart && selPart !== part) continue;\n\n\t\t\t\tif (info.performances[day] && info.performances[day][part]) {\n\t\t\t\t\tconst { position, seconds } = info.performances[day][part];\n\t\t\t\t\tscore += 101 - position;\n\t\t\t\t\ttotalSeconds += seconds;\n\t\t\t\t\tcount++;\n\n\t\t\t\t\tif (position <= 3) {\n\t\t\t\t\t\tmedalCounts[position]++;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdnfPenalty += yearData.partFinishSeconds[day][part];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst medalScore = 1000000 * medalCounts[1] + 1000 * medalCounts[2] + medalCounts[3];\n\t\tconst medalTotalScore = 1000000000 * (medalCounts[1] + medalCounts[2] + medalCounts[3]) + medalScore;\n\n\t\treturn {\n\t\t\tname,\n\t\t\timg: info.img,\n\t\t\thref: info.href,\n\t\t\tscore,\n\t\t\ttotalSeconds,\n\t\t\tcount,\n\t\t\tdnfPenalty,\n\t\t\tcombinedNegativePenalty: -(totalSeconds + dnfPenalty),\n\t\t\tmedalCounts,\n\t\t\tmedalScore,\n\t\t\tmedalTotalScore,\n\t\t\tsupporter: info.supporter,\n\t\t\tsponsor: info.sponsor,\n\t\t\tperformances: info.performances,\n\t\t};\n\t});\n\n\t$: originalScoreList = makeUnsortedScoreList(processedYearData, selectedPart, {\n\t\t'2018-6': omit2018_6,\n\t\t'2020-1': omit2020_1,\n\t});\n\n\tlet sortKey = \"score\"; // sort descending by it\n\n\t$: scoreList = originalScoreList.slice().sort((a, b) => (b[sortKey] - a[sortKey]));\n\n\tlet showMedals = false;\n\n\tlet christmasMode = false;\n\n\tlet renderedData = { scoreList: [], maxDay: 0, selectedPart: 0, selectedYear, showMedals, christmasMode };\n\tconst updateRenderedData = debounce((data) => { renderedData = data; }, 50);\n\t$: updateRenderedData({\n\t\tscoreList,\n\t\tmaxDay: processedYearData.maxDay,\n\t\tselectedPart,\n\t\tselectedYear,\n\t\tshowMedals,\n\t\tchristmasMode,\n\t});\n\n\tconst pad2 = (n) => {\n\t\tconst s = String(n);\n\t\treturn '0'.repeat(Math.max(2 - s.length, 0)) + s;\n\t};\n\n\tconst formatSeconds = (ss) => {\n\t\tconst h = Math.floor(ss / 3600);\n\t\tconst m = Math.floor((ss % 3600) / 60);\n\t\tconst s = ss % 60;\n\t\treturn `${pad2(h)}:${pad2(m)}:${pad2(s)}`;\n\t};\n\n</script>\n\n<main>\n\t<div>\n\t\t<a href=\"https://adventofcode.com/\">Advent of Code</a> Extra Leaderboard (by <a href=\"https://beta.vero.site/\">betaveros</a> / inspirations: <a href=\"http://www.maurits.vdschee.nl/scatterplot/medals.html\">mevdschee</a>, <a href=\"https://www.reddit.com/r/adventofcode/comments/a9dh93/2018_complete_global_leaderboard/\">/u/mebeim</a>, etc.)\n\t<div>\n\t\tYear:\n\t\t{#each yearList as year}\n\t\t{' '}\n\t\t<label>\n\t\t\t<input type=radio bind:group={selectedYear} value={year}>{year}\n\t\t</label>\n\t\t{/each}\n\n\t\t{#if selectedYear === 2018}\n\t\t<label>\n\t\t\t<input type=checkbox bind:checked={omit2018_6}>Omit Day 6\n\t\t</label>\n\t\t{/if}\n\t\t{#if selectedYear === 2020}\n\t\t<label>\n\t\t\t<input type=checkbox bind:checked={omit2020_1}>Omit Day 1\n\t\t</label>\n\t\t{/if}\n\t</div>\n\t<div>\n\t\tPart:\n\t\t<label>\n\t\t\t<input type=radio bind:group={selectedPart} value={1}>1\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={selectedPart} value={2}>2\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={selectedPart} value={0}>Both\n\t\t</label>\n\t</div>\n\n\t<div>\n\t\tSort by:\n\t\t<label>\n\t\t\t<input type=radio bind:group={sortKey} value={\"score\"}>Score\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={sortKey} value={\"count\"}># Leaderboard\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={sortKey} value={\"combinedNegativePenalty\"}>Œ£ min(T,100<sup>th</sup>)\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={sortKey} value={\"medalScore\"}>Medals (G&gg;S&gg;B)\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=radio bind:group={sortKey} value={\"medalTotalScore\"}>Medals (#)\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=checkbox bind:checked={showMedals}>Show All Leaderboards/Medals (slower)\n\t\t</label>\n\n\t\t<label>\n\t\t\t<input type=checkbox bind:checked={christmasMode}>CHRISTMAS MODE\n\t\t</label>\n\t</div>\n\t<table class={renderedData.christmasMode ? \"christmas\" : undefined}>\n\t\t<tr>\n\t\t\t<th>#</th>\n\t\t\t<th>Score</th>\n\t\t\t<th class=\"img\">üñºÔ∏è</th>\n\t\t\t<th>Name</th>\n\t\t\t<th title=\"Total time for all leaderboard appearances\">Œ£ Time</th>\n\t\t\t<th title=\"Number of leaderboard appearances\"># Ls</th>\n\t\t\t<th title=\"Total time for both parts of all days, using the 100th place's time if not on the leaderboard\" class=\"combined\">Œ£ min(T,100<sup>th</sup>)</th>\n\t\t\t<th class=\"medal\"><Medal position={1} /></th>\n\t\t\t<th class=\"medal\"><Medal position={2} /></th>\n\t\t\t<th class=\"medal\"><Medal position={3} /></th>\n\t\t\t<th class=\"medal\"><Medal position=\"#\" /></th>\n\t\t\t{#if renderedData.showMedals}\n\t\t\t\t{#each oneRange(renderedData.maxDay) as day}\n\t\t\t\t\t<th class=\"day\"><a href=\"https://adventofcode.com/{renderedData.selectedYear}/leaderboard/day/{day}\">{day}</a></th>\n\t\t\t\t{/each}\n\t\t\t{/if}\n\t\t</tr>\n\t\t{#each renderedData.scoreList as scoreInfo, i}\n\t\t\t<tr>\n\t\t\t\t<td class=\"position\">{i+1})</td>\n\t\t\t\t<td class=\"score rb\">{scoreInfo.score}</td>\n\t\t\t\t<td class=\"img\">\n\t\t\t\t\t{#if scoreInfo.img}\n\t\t\t\t\t\t<img src={scoreInfo.img} alt=\"Profile picture for {scoreInfo.name}\" />\n\t\t\t\t\t{/if}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"name\">\n\t\t\t\t\t{#if scoreInfo.href}\n\t\t\t\t\t\t<a href={scoreInfo.href} class=\"user\">{scoreInfo.name}</a>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{scoreInfo.name}\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if scoreInfo.supporter}\n\t\t\t\t\t\t{' '}<a href=\"https://adventofcode.com/{renderedData.selectedYear}/support\" class=\"support\">(AoC++)</a>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if scoreInfo.sponsor}\n\t\t\t\t\t\t{' '}<a href={scoreInfo.sponsor} class=\"sponsor\">(Sponsor)</a>\n\t\t\t\t\t{/if}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"score\">{formatSeconds(scoreInfo.totalSeconds)}</td>\n\t\t\t\t<td class=\"score\">{scoreInfo.count}</td>\n\t\t\t\t<td class=\"score rb\">{formatSeconds(scoreInfo.totalSeconds + scoreInfo.dnfPenalty)}</td>\n\t\t\t\t<td class=\"medal\">{scoreInfo.medalCounts[1]}</td>\n\t\t\t\t<td class=\"medal\">{scoreInfo.medalCounts[2]}</td>\n\t\t\t\t<td class=\"medal\">{scoreInfo.medalCounts[3]}</td>\n\t\t\t\t<td class=\"medal\">{scoreInfo.medalCounts[1] + scoreInfo.medalCounts[2] + scoreInfo.medalCounts[3]}</td>\n\t\t\t\t{#if renderedData.showMedals}\n\t\t\t\t\t{#each oneRange(renderedData.maxDay) as day}\n\t\t\t\t\t\t<td class=\"pos\">\n\t\t\t\t\t\t\t{#if renderedData.selectedPart !== 2}\n\t\t\t\t\t\t\t\t<Medal position={getPosition(scoreInfo, day, 1)} />\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if renderedData.selectedPart !== 1}\n\t\t\t\t\t\t\t\t<Medal position={getPosition(scoreInfo, day, 2)} right={renderedData.selectedPart === 0} />\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{/each}\n\t\t\t\t{/if}\n\t\t\t</tr>\n\t\t{/each}\n\t</table>\n</main>\n\n<style>\n\ttd, th { white-space: nowrap; }\n\n\tth.day { padding: 0; font-size: 70%; }\n\tth.img { padding: 0 0.5em; }\n\tth.medal, td.medal { padding: 0 0.5em; text-align: right; }\n\n\ttd.position { text-align: right; }\n\ttd.name { text-align: left; }\n\ttd.score { text-align: right; }\n\ttd.rb { padding-right: 0.5em; }\n\n\tth.combined { padding-left: 1em; }\n\n\ttd.pos { text-align: center; padding: 0 0.2em; }\n\n\ttable {\n\t\tborder-collapse: collapse;\n\t}\n\ttr + tr { border-top: 1px solid rgba(255, 255, 255, 0.2); }\n\n\t.christmas tr:nth-child(3n) > :nth-child(3n), .christmas tr:nth-child(3n+1) > :nth-child(3n+1), .christmas tr:nth-child(3n+2) > :nth-child(3n+2) {\n\t\tcolor: #cfc;\n\t}\n\t.christmas tr:nth-child(3n) > :nth-child(3n+1), .christmas tr:nth-child(3n+1) > :nth-child(3n+2), .christmas tr:nth-child(3n+2) > :nth-child(3n) {\n\t\tcolor: #fcc;\n\t}\n\t.christmas tr:nth-child(3n) > :nth-child(3n+1) a.user:link, .christmas tr:nth-child(3n+1) > :nth-child(3n+2) a.user:link, .christmas tr:nth-child(3n+2) > :nth-child(3n) a.user:link {\n\t\tcolor: #d00;\n\t}\n\t.christmas tr:nth-child(3n) > :nth-child(3n+1) a.user:visited, .christmas tr:nth-child(3n+1) > :nth-child(3n+2) a.user:visited, .christmas tr:nth-child(3n+2) > :nth-child(3n) a.user:visited {\n\t\tcolor: #b00;\n\t}\n\n\timg {\n\t\theight: 1em;\n\t}\n\ttd.img {\n\t\ttext-align: center; vertical-align: middle;\n\t\tmax-width: 1em;\n\t\toverflow: hidden;\n\t\tcolor: #999;\n\t}\n\n\ta.support { color: #ff6; }\n\ta.sponsor { color: #8ad; }\n</style>\n",
    "<script>\n\texport let position, right = false;\n\n\tconst getClass = (pos) => {\n\t\tswitch (pos) {\n\t\t\tcase 1: return \"gold\";\n\t\t\tcase 2: return \"silver\";\n\t\t\tcase 3: return \"bronze\";\n\t\t\tcase '#': return \"sum\";\n\t\t\tcase undefined: return \"dnf\";\n\t\t\tdefault:\n\t\t\t\tif (pos <= 10) return \"blue\";\n\t\t\t\treturn undefined;\n\t\t}\n\t}\n</script>\n\n<div class=\"medal {getClass(position)} {right ? \"right\" : undefined}\">\n\t{position || '-'}\n</div>\n\n<style>\n\t.medal {\n\t\tfont-size: 70%;\n\t\twidth: 1.5em;\n\t\theight: 1.5em;\n\t\ttext-align: center;\n\t\tborder-radius: 70%;\n\t}\n\n\t.gold { background-color: #fd5; color: black; }\n\t.silver { background-color: #ccc; color: black; }\n\t.bronze { background-color: #963; color: black; }\n\t.blue { background-color: #34a; color: black; }\n\t.sum {\n\t\tbackground-image: linear-gradient(135deg, #fd5 20%, #ccc 50%, #963 80%);\n\t\tcolor: black;\n\t}\n\n\t.dnf { opacity: 0.5; }\n\n\t.right {\n\t\tmargin-left: 0.5em;\n\t\tmargin-top: -0.5em;\n\t}\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}